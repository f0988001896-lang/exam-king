<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>é†«å¸«äºŒéšåœ‹è€ƒè§£é¡Œç‹</title>
<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: "Microsoft JhengHei", sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    padding: 20px;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
}

h1 {
    text-align: center;
    color: white;
    font-size: 2.5em;
    margin: 20px 0;
}

.subtitle {
    text-align: center;
    color: white;
    font-size: 1.3em;
    margin: 10px 0;
}

.stats {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 15px;
    padding: 20px;
    margin: 20px 0;
    display: flex;
    justify-content: space-around;
    color: white;
    text-align: center;
}

.stat-num {
    display: block;
    font-size: 2em;
    font-weight: bold;
}

.grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 20px;
    margin: 20px 0;
}

.card {
    background: white;
    border-radius: 15px;
    padding: 25px;
    cursor: pointer;
    transition: transform 0.3s;
}

.card:hover {
    transform: translateY(-5px);
}

.card.unlocked {
    border: 2px solid #10b981;
}

.card.disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.card.disabled:hover {
    transform: none;
}

.question-num {
    background: #667eea;
    color: white;
    padding: 8px 18px;
    border-radius: 25px;
    font-weight: bold;
    display: inline-block;
    margin-bottom: 15px;
}

.btn {
    padding: 10px 20px;
    border: none;
    border-radius: 20px;
    font-weight: bold;
    cursor: pointer;
    margin-top: 10px;
}

.btn-buy {
    background: #667eea;
    color: white;
}

.btn-unlocked {
    background: #10b981;
    color: white;
}

.btn-secondary {
    background: #e5e7eb;
    color: #374151;
}

.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    z-index: 1000;
}

.modal.active {
    display: flex;
    align-items: center;
    justify-content: center;
}

.modal-content {
    background: white;
    border-radius: 20px;
    padding: 40px;
    max-width: 600px;
    width: 90%;
    max-height: 90vh;
    overflow-y: auto;
}

.modal-content h3 {
    margin-bottom: 20px;
}

.info-box {
    background: #f3f4f6;
    padding: 20px;
    border-radius: 10px;
    margin: 20px 0;
}

.info-box p {
    margin: 10px 0;
}

.video-box {
    margin: 20px 0;
    background: black;
    border-radius: 10px;
}

.video-box iframe {
    width: 100%;
    height: 350px;
    border: none;
    border-radius: 10px;
}

.full-width {
    width: 100%;
}

@media (max-width: 768px) {
    h1 {
        font-size: 1.8em;
    }
    .grid {
        grid-template-columns: 1fr;
    }
    .video-box iframe {
        height: 250px;
    }
}
</style>
</head>
<body>

<div class="container">
    <h1>ğŸ¥ é†«å¸«äºŒéšåœ‹è€ƒè§£é¡Œç‹</h1>
    <div class="subtitle">114å¹´åº¦å…§ç§‘å°ˆå€ Â· æ¯é¡ŒNT$5</div>
    
    <div class="stats">
        <div><span class="stat-num">10</span>é¡Œç›®ç¸½æ•¸</div>
        <div><span class="stat-num">1</span>å·²ä¸Šæ¶</div>
        <div><span class="stat-num" id="unlocked-count">0</span>å·²è§£é–</div>
    </div>
    
    <div class="grid" id="question-grid"></div>
</div>

<div class="modal" id="modal">
    <div class="modal-content">
        <h3 id="modal-title"></h3>
        <div id="modal-body"></div>
    </div>
</div>

<script>
var questions = [
    {id: "114-1", title: "114å¹´å…§ç§‘ç¬¬1é¡Œ", video: "7v6fx1L2C24", price: 5},
    {id: "114-2", title: "114å¹´å…§ç§‘ç¬¬2é¡Œ", video: "", price: 5},
    {id: "114-3", title: "114å¹´å…§ç§‘ç¬¬3é¡Œ", video: "", price: 5},
    {id: "114-4", title: "114å¹´å…§ç§‘ç¬¬4é¡Œ", video: "", price: 5},
    {id: "114-5", title: "114å¹´å…§ç§‘ç¬¬5é¡Œ", video: "", price: 5},
    {id: "114-6", title: "114å¹´å…§ç§‘ç¬¬6é¡Œ", video: "", price: 5},
    {id: "114-7", title: "114å¹´å…§ç§‘ç¬¬7é¡Œ", video: "", price: 5},
    {id: "114-8", title: "114å¹´å…§ç§‘ç¬¬8é¡Œ", video: "", price: 5},
    {id: "114-9", title: "114å¹´å…§ç§‘ç¬¬9é¡Œ", video: "", price: 5},
    {id: "114-10", title: "114å¹´å…§ç§‘ç¬¬10é¡Œ", video: "", price: 5}
];

function getUnlocked() {
    var saved = localStorage.getItem('unlocked');
    if (saved) {
        try {
            return JSON.parse(saved);
        } catch (e) {
            return [];
        }
    }
    return [];
}

function saveUnlock(questionId) {
    var unlocked = getUnlocked();
    if (unlocked.indexOf(questionId) === -1) {
        unlocked.push(questionId);
        localStorage.setItem('unlocked', JSON.stringify(unlocked));
    }
}

function isUnlocked(questionId) {
    var unlocked = getUnlocked();
    return unlocked.indexOf(questionId) >= 0;
}

function updateStats() {
    document.getElementById('unlocked-count').textContent = getUnlocked().length;
}

function renderQuestions() {
    var grid = document.getElementById('question-grid');
    grid.innerHTML = '';
    
    for (var i = 0; i < questions.length; i++) {
        var q = questions[i];
        var unlocked = isUnlocked(q.id);
        var hasVideo = q.video && q.video.length > 0;
        
        var card = document.createElement('div');
        card.className = 'card';
        
        if (unlocked) {
            card.className += ' unlocked';
        }
        
        if (!hasVideo) {
            card.className += ' disabled';
        }
        
        var html = '<div class="question-num">' + q.id + '</div>';
        html += '<div>' + q.title + '</div>';
        
        if (!hasVideo) {
            html += '<div style="margin-top:15px;">ğŸ”œ æº–å‚™ä¸­</div>';
        } else if (unlocked) {
            html += '<button class="btn btn-unlocked">âœ… å·²è§£é–</button>';
        } else {
            html += '<button class="btn btn-buy">NT$' + q.price + '</button>';
        }
        
        card.innerHTML = html;
        
        if (hasVideo) {
            card.setAttribute('data-index', i);
            card.onclick = function() {
                var idx = parseInt(this.getAttribute('data-index'));
                openModal(questions[idx]);
            };
        }
        
        grid.appendChild(card);
    }
    
    updateStats();
}

function openModal(question) {
    if (!question.video || question.video.length === 0) {
        alert('æ­¤é¡Œç›®è§£æå½±ç‰‡å°šæœªä¸Šæ¶,æ•¬è«‹æœŸå¾…! ğŸ™');
        return;
    }
    
    var modal = document.getElementById('modal');
    var title = document.getElementById('modal-title');
    var body = document.getElementById('modal-body');
    
    title.textContent = question.title;
    
    var unlocked = isUnlocked(question.id);
    
    if (unlocked) {
        var html = '';
        html += '<div style="background:#fef3c7;border-left:4px solid #fbbf24;padding:15px;margin:15px 0;border-radius:5px;">';
        html += '<p style="color:#78350f;margin:5px 0;">ğŸ’¡ å»ºè­°å…¨è¢å¹•è§€çœ‹</p>';
        html += '<p style="color:#78350f;margin:5px 0;">â€¢ å¯èª¿æ•´æ’­æ”¾é€Ÿåº¦</p>';
        html += '<p style="color:#78350f;margin:5px 0;">â€¢ å·²æ°¸ä¹…è§£é–,éš¨æ™‚è¤‡ç¿’</p>';
        html += '</div>';
        html += '<div class="video-box">';
        html += '<iframe src="https://www.youtube.com/embed/' + question.video + '?rel=0" allowfullscreen></iframe>';
        html += '</div>';
        html += '<button class="btn btn-secondary full-width" onclick="closeModal()">é—œé–‰</button>';
        body.innerHTML = html;
    } else {
        var html = '';
        html += '<div class="info-box">';
        html += '<p><strong>é¡Œç›®:</strong> ' + question.title + '</p>';
        html += '<p><strong>åƒ¹æ ¼:</strong> NT$' + question.price + '</p>';
        html += '<p style="color:#6b7280;">ğŸ’° è§£é–å¾Œå¯æ°¸ä¹…è§€çœ‹,ä¸é™æ¬¡æ•¸</p>';
        html += '</div>';
        html += '<p style="margin:20px 0;color:#6b7280;">';
        html += 'é»æ“Šã€Œå‰å¾€ä»˜æ¬¾ã€å¾Œå°‡å°å‘ç¶ ç•Œé‡‘æµé é¢<br>';
        html += '<small>(ç›®å‰ç‚ºæ¸¬è©¦æ¨¡å¼,é»æ“Šå³å¯è§£é–)</small>';
        html += '</p>';
        html += '<button class="btn btn-buy full-width" onclick="payForQuestion(\'' + question.id + '\')">ğŸ’³ å‰å¾€ä»˜æ¬¾ NT$' + question.price + '</button>';
        html += '<button class="btn btn-secondary full-width" onclick="closeModal()">å–æ¶ˆ</button>';
        body.innerHTML = html;
    }
    
    modal.className = 'modal active';
}

function closeModal() {
    document.getElementById('modal').className = 'modal';
}

function payForQuestion(questionId) {
    if (confirm('âš ï¸ æ¸¬è©¦æ¨¡å¼\n\næ­£å¼ç‰ˆæœƒè·³è½‰åˆ°ç¶ ç•Œä»˜æ¬¾é é¢\n\nç¾åœ¨è¦æ¨¡æ“¬å®Œæˆä»˜æ¬¾å—?')) {
        saveUnlock(questionId);
        alert('âœ… ä»˜æ¬¾æˆåŠŸ!é¡Œç›®å·²è§£é–');
        closeModal();
        renderQuestions();
        
        for (var i = 0; i < questions.length; i++) {
            if (questions[i].id === questionId) {
                setTimeout(function() {
                    openModal(questions[i]);
                }, 300);
                break;
            }
        }
    }
}

document.getElementById('modal').addEventListener('click', function(e) {
    if (e.target.id === 'modal') {
        closeModal();
    }
});

renderQuestions();
</script>

</body>
</html>
